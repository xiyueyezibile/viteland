var g=Object.create;var a=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var H=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var T=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of x(t))!w.call(e,i)&&i!==r&&a(e,i,{get:()=>t[i],enumerable:!(n=y(t,i))||n.enumerable});return e};var b=(e,t,r)=>(r=e!=null?g(h(e)):{},T(t||!e||!e.__esModule?a(r,"default",{value:e,enumerable:!0}):r,e));var d=H((A,I)=>{I.exports={name:"viteland",version:"1.0.0",description:"",main:"index.js",scripts:{test:'echo "Error: no test specified" && exit 1'},keywords:[],author:"",license:"ISC",devDependencies:{"@types/node":"^20.11.26","@typescript-eslint/eslint-plugin":"^7.2.0","@typescript-eslint/parser":"^7.2.0","babel-eslint":"^10.1.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-import":"^2.29.1","eslint-plugin-prettier":"^5.1.3","eslint-plugin-react":"^7.34.0",lerna:"^8.1.2",prettier:"^3.2.5",typescript:"^5.4.2"}}});var u=require("cac"),v=b(require("path"));var c=require("vite");var l=require("fs/promises"),s=require("@viteland/utils");function p(){return{name:"viteland-html",apply:"serve",transformIndexHtml(e){return{html:e,tags:[{tag:"script",attrs:{type:"module",src:`/@fs/${s.CLIENT_ENTRY_PATH}`},injectTo:"body"}]}},configureServer(e){return()=>{e.middlewares.use(async(t,r,n)=>{let i=await(0,l.readFile)(s.DEFAULT_HTML_PATH,"utf-8");try{i=await e.transformIndexHtml(t.url,i,t.originalUrl),r.statusCode=200,r.setHeader("Content-Type","text/html"),r.end(i)}catch(f){return n(f)}})}}}}async function m(e=process.cwd()){return(0,c.createServer)({plugins:[p()],root:e})}var S=d().version,o=(0,u.cac)("island").version(S).help();o.command("[root]","start dev server").alias("dev").action(async e=>{let t=e?v.default.resolve(__dirname,"../../../"+e):process.cwd(),r=await m(t);await r.listen(),r.printUrls()});o.command("build [root]","build for production").action(async e=>{console.log("build",e)});o.parse();
//# sourceMappingURL=index.js.map